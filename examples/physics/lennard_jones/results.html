<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Example: Lennard Jones</title>
        
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.css" type="text/css" />
        
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-0.12.6.min.js"></script>
<script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-0.12.6.min.js"></script>
<script type="text/javascript">
    Bokeh.set_log_level("info");
</script>
        <style>
          html {
            width: 100%;
            height: 100%;
          }
          body {
            width: 90%;
            height: 100%;
            margin: auto;
          }

          .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
          .highlight .cs { color: #d8750a; font-style: italic; font-weight: bold } /* Override Comment.Special from pygments */
        </style>

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    </head>
    <body>
        <div class="pull-right"><b><a href="https://github.com/numba/numba-examples/tree/master/examples/physics/lennard_jones">Source on Github</a></b></div><br>
        <div class="container">
            
        <div class="bk-root">
            <div class="bk-plotdiv" id="7bd5506e-801e-4bc8-a2f6-285f62a7fe79"></div>
        </div>
            
        <script type="text/javascript">
            (function() {
          var fn = function() {
            Bokeh.safely(function() {
              var docs_json = {"7f4258a8-d60f-4bb6-b796-ca81afdbcf81":{"roots":{"references":[{"attributes":{"callback":null,"formatters":{"speedup":"printf","throughput":"printf","times":"printf","x":"printf"},"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},"tooltips":[["implementation","@name"],["x","@x{%1.0e}"],["time per call","@times{%1.1e} usec"],["speedup","@{speedup}{%1.1f}x"],["throughput","@{throughput}{%1.1e}"]]},"id":"2f061660-0c68-4590-a5b0-23e7964b622f","type":"HoverTool"},{"attributes":{"data_source":{"id":"33ca5a7e-f3c6-4851-9e5c-4624a117e402","type":"ColumnDataSource"},"glyph":{"id":"c27d2fce-13f2-4e3b-8c33-91aca097be62","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"5456df17-25d9-4825-bad4-53b05005ce0c","type":"Circle"},"selection_glyph":null},"id":"b4dfc82a-10a3-474e-a932-10e2e7edc71f","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"c27d2fce-13f2-4e3b-8c33-91aca097be62","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"5456df17-25d9-4825-bad4-53b05005ce0c","type":"Circle"},{"attributes":{"child":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},"title":"Speedup"},"id":"771a740e-02ac-42b0-9215-ddd3736fc66a","type":"Panel"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"4f04dbd9-18b8-4b3c-ac22-19afbd28b7a5","type":"BoxAnnotation"},{"attributes":{"format":"%1.0e"},"id":"a5b4c557-441a-4800-92d1-1c500e5a652d","type":"PrintfTickFormatter"},{"attributes":{"format":"%1.0f"},"id":"d47d5458-1e3b-49a9-abdd-9f3344c19fc8","type":"PrintfTickFormatter"},{"attributes":{"items":[{"id":"6770edf0-33e3-491d-94ba-65622d1672c2","type":"LegendItem"},{"id":"68bba7ec-ce70-4525-8e58-7dedda10dca5","type":"LegendItem"},{"id":"bb0ad4c9-2bd5-4fed-988e-21c758a1e1c0","type":"LegendItem"},{"id":"e0ab922b-9cd6-4eb5-a6ed-4ce8aad52d3f","type":"LegendItem"}],"location":[0,-30],"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"}},"id":"ad19d86e-3319-46e3-beda-ddccc6bae1a2","type":"Legend"},{"attributes":{"label":{"value":"numpy"},"renderers":[{"id":"8befec76-9acd-4112-b345-8ff60a383c62","type":"GlyphRenderer"},{"id":"3bfeb77a-87b3-4057-b2f3-7e179d1ed8d9","type":"GlyphRenderer"}]},"id":"6770edf0-33e3-491d-94ba-65622d1672c2","type":"LegendItem"},{"attributes":{"child":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},"title":"Throughput"},"id":"f21b4575-c05c-4559-b912-f255024efca0","type":"Panel"},{"attributes":{"label":{"value":"numba_array"},"renderers":[{"id":"616553ec-9a7e-45a9-b260-7e57db540484","type":"GlyphRenderer"},{"id":"b4bc5c71-e9ba-46bc-98c0-dbd20c439132","type":"GlyphRenderer"}]},"id":"68bba7ec-ce70-4525-8e58-7dedda10dca5","type":"LegendItem"},{"attributes":{"callback":null,"tabs":[{"id":"771a740e-02ac-42b0-9215-ddd3736fc66a","type":"Panel"},{"id":"f21b4575-c05c-4559-b912-f255024efca0","type":"Panel"},{"id":"8a780994-de63-46fa-8ddc-59c02b337cee","type":"Panel"}],"width":800},"id":"9d44ff8e-cfc7-4d86-8fb8-f31b86a5aa84","type":"Tabs"},{"attributes":{"label":{"value":"numba_scalar"},"renderers":[{"id":"5af9ef99-92cf-49cd-8ec6-8a2c9983ea4a","type":"GlyphRenderer"},{"id":"3b8e1056-26a9-4a91-b8f3-f1bf055db5e3","type":"GlyphRenderer"}]},"id":"bb0ad4c9-2bd5-4fed-988e-21c758a1e1c0","type":"LegendItem"},{"attributes":{"label":{"value":"numba_scalar_prange"},"renderers":[{"id":"3bb9eeaf-3ee1-49b7-bacd-fcdac64167d6","type":"GlyphRenderer"},{"id":"b4dfc82a-10a3-474e-a932-10e2e7edc71f","type":"GlyphRenderer"}]},"id":"e0ab922b-9cd6-4eb5-a6ed-4ce8aad52d3f","type":"LegendItem"},{"attributes":{"child":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},"title":"Raw times"},"id":"8a780994-de63-46fa-8ddc-59c02b337cee","type":"Panel"},{"attributes":{"children":[{"id":"9a71f353-730a-46ba-8118-c1785a3a0b41","type":"WidgetBox"}]},"id":"6ff63633-a064-4e07-a09c-6b838dca0c78","type":"Row"},{"attributes":{"children":[{"id":"9d44ff8e-cfc7-4d86-8fb8-f31b86a5aa84","type":"Tabs"}],"width":800},"id":"9a71f353-730a-46ba-8118-c1785a3a0b41","type":"WidgetBox"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"f8b7f198-ee51-44bb-b2ba-1f88863545e2","type":"Circle"},{"attributes":{"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"}},"id":"45db313e-17e0-4cbb-a624-6d8b388b6f97","type":"ResetTool"},{"attributes":{"line_color":{"value":"blue"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"815114f6-a498-4197-9555-fa5b40208935","type":"Line"},{"attributes":{"axis_label":"Number of input elements / sec","formatter":{"id":"8c315499-799e-4cc0-9117-46795fcb6ff0","type":"PrintfTickFormatter"},"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},"ticker":{"id":"cace04e3-6c99-4beb-a9b8-2a985e05a5f3","type":"BasicTicker"}},"id":"ec5bfd9a-9267-48e1-8557-aa7eac02c806","type":"LinearAxis"},{"attributes":{"overlay":{"id":"4f04dbd9-18b8-4b3c-ac22-19afbd28b7a5","type":"BoxAnnotation"},"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"}},"id":"58b07b04-5cb9-4208-baed-1aad6ea8899c","type":"BoxZoomTool"},{"attributes":{},"id":"43108ada-015c-4fe7-bd11-a34b09b0e961","type":"BasicTicker"},{"attributes":{"dimension":1,"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},"ticker":{"id":"43108ada-015c-4fe7-bd11-a34b09b0e961","type":"BasicTicker"}},"id":"e3c57596-efa0-4494-aa85-1e7fb89f2408","type":"Grid"},{"attributes":{"child":{"id":"480a67fa-a0f7-4622-8e3f-89d10899cc70","type":"Column"},"title":"numba_array"},"id":"d7030d3b-0beb-424d-a45b-9703479740df","type":"Panel"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"b6520f8f-e3fe-48a6-9693-9543cbd6a511","type":"Circle"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"8fad54e8-ae45-4577-9bf6-67a98a622c72","type":"Line"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"1bb231eb-8a0e-480b-8673-65f2acbe6305","type":"Circle"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_dash":[2,4],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"11ec8568-ac44-4618-87e8-0bcc6cbc8f73","type":"Line"},{"attributes":{"below":[{"id":"6f737196-785d-4472-b34d-1f998bc5fa1d","type":"LinearAxis"}],"left":[{"id":"f749b9cb-5a51-4c3b-9f26-9074bb6b677b","type":"LinearAxis"}],"plot_height":250,"plot_width":800,"renderers":[{"id":"6f737196-785d-4472-b34d-1f998bc5fa1d","type":"LinearAxis"},{"id":"1ecc92a4-a88c-4ee3-9f29-cb1628ca6666","type":"Grid"},{"id":"f749b9cb-5a51-4c3b-9f26-9074bb6b677b","type":"LinearAxis"},{"id":"0128d47e-96c1-4927-83b1-17ddde045a7b","type":"Grid"},{"id":"a658d976-085e-49cb-8f64-c06f94541ee5","type":"BoxAnnotation"},{"id":"8befec76-9acd-4112-b345-8ff60a383c62","type":"GlyphRenderer"},{"id":"3bfeb77a-87b3-4057-b2f3-7e179d1ed8d9","type":"GlyphRenderer"},{"id":"616553ec-9a7e-45a9-b260-7e57db540484","type":"GlyphRenderer"},{"id":"b4bc5c71-e9ba-46bc-98c0-dbd20c439132","type":"GlyphRenderer"},{"id":"5af9ef99-92cf-49cd-8ec6-8a2c9983ea4a","type":"GlyphRenderer"},{"id":"3b8e1056-26a9-4a91-b8f3-f1bf055db5e3","type":"GlyphRenderer"},{"id":"3bb9eeaf-3ee1-49b7-bacd-fcdac64167d6","type":"GlyphRenderer"},{"id":"b4dfc82a-10a3-474e-a932-10e2e7edc71f","type":"GlyphRenderer"},{"id":"ad19d86e-3319-46e3-beda-ddccc6bae1a2","type":"Legend"}],"right":[{"id":"ad19d86e-3319-46e3-beda-ddccc6bae1a2","type":"Legend"}],"title":{"id":"a7fa465e-5d7c-4964-bedb-c563d7a814bd","type":"Title"},"tool_events":{"id":"98e49726-2fc6-40ab-9568-7e71d82288cf","type":"ToolEvents"},"toolbar":{"id":"b38201b5-1d8e-48ee-ab55-66fcd78a5a6b","type":"Toolbar"},"toolbar_location":"above","x_range":{"id":"6ea16876-13b7-4944-9ae8-e9ab88a53074","type":"DataRange1d"},"x_scale":{"id":"3f615930-c515-43d2-b6d1-2f1c77870cff","type":"LinearScale"},"y_range":{"id":"f8d39fff-cb34-4b45-8db4-593daa8d92cf","type":"DataRange1d"},"y_scale":{"id":"3427a866-28c3-4b01-aad2-07954d590a7d","type":"LinearScale"}},"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},{"attributes":{"data_source":{"id":"373859c8-cbd2-4f2e-b43b-d6f45b053f20","type":"ColumnDataSource"},"glyph":{"id":"815114f6-a498-4197-9555-fa5b40208935","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"8985336b-74ce-4d0f-ad4a-fb61d9500481","type":"Line"},"selection_glyph":null},"id":"7a6be762-26b9-4186-bebc-f8095f7b3405","type":"GlyphRenderer"},{"attributes":{"text":"<h2>Implementations</h2>","width":800},"id":"40b4b680-0baa-465a-ba95-fefdfb8561ec","type":"Div"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_scalar","numba_scalar","numba_scalar","numba_scalar","numba_scalar"],"speedup":[18.195404953601873,15.732899629015186,17.058014073566035,17.13534161479371,16.923612429582786],"throughput":[2484210.648132995,463109.1090824364,239383.8947567329,154510.11850833817,116244.30178340714],"times":[40.25423531420529,1079.6591779217124,4177.390467375517,9708.102061413229,17205.144418403506],"x":[100,500,1000,1500,2000]}},"id":"495d8798-d77f-48b5-85c1-ac04244a8f26","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"495d8798-d77f-48b5-85c1-ac04244a8f26","type":"ColumnDataSource"},"glyph":{"id":"0fd60916-cd1f-4533-84c9-d224a2ba04fd","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"983d0b86-6846-4d14-976a-e70f2f32f2a0","type":"Line"},"selection_glyph":null},"id":"b39e5f43-1a0c-4f90-83ae-02ad26e17483","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"33ca5a7e-f3c6-4851-9e5c-4624a117e402","type":"ColumnDataSource"},"glyph":{"id":"a5dcfaf7-83b2-4e28-b946-fc4c0188937f","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"8fad54e8-ae45-4577-9bf6-67a98a622c72","type":"Line"},"selection_glyph":null},"id":"3bb9eeaf-3ee1-49b7-bacd-fcdac64167d6","type":"GlyphRenderer"},{"attributes":{"callback":null,"tabs":[{"id":"bece852f-ece3-4aee-b253-4de012e0cda2","type":"Panel"},{"id":"d7030d3b-0beb-424d-a45b-9703479740df","type":"Panel"},{"id":"3e2f0f34-338d-44ee-bc77-727f2403de2b","type":"Panel"},{"id":"bf7bd388-c0e1-4800-8821-6edb44788012","type":"Panel"}],"width":800},"id":"3aad123f-b52b-4a56-b965-ceb04d6e7268","type":"Tabs"},{"attributes":{"data_source":{"id":"27a3454e-f2f3-44eb-bdd0-abc4df65ee94","type":"ColumnDataSource"},"glyph":{"id":"d98f96a6-5f7a-4277-8814-3d1f9b8201ea","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"11ec8568-ac44-4618-87e8-0bcc6cbc8f73","type":"Line"},"selection_glyph":null},"id":"b9fb92bf-d8e2-4fae-b873-5227e459c3e4","type":"GlyphRenderer"},{"attributes":{"callback":null,"formatters":{"speedup":"printf","throughput":"printf","times":"printf","x":"printf"},"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},"tooltips":[["implementation","@name"],["x","@x{%1.0e}"],["time per call","@times{%1.1e} usec"],["speedup","@{speedup}{%1.1f}x"],["throughput","@{throughput}{%1.1e}"]]},"id":"f64bb403-3dd1-4847-833c-cd78141b3d0b","type":"HoverTool"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"17a603e4-1f90-4b14-8349-9ba196b3b5e2","type":"Circle"},{"attributes":{"children":[{"id":"042f3f42-0cd3-43d1-af50-6684df980ed6","type":"WidgetBox"}]},"id":"e6111487-5cb4-4e08-80ae-09ee4a338a12","type":"Row"},{"attributes":{"line_color":{"value":"blue"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"8b638e50-79fd-49d2-a6d5-284c48cdda8c","type":"Line"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_scalar","numba_scalar","numba_scalar","numba_scalar","numba_scalar"],"speedup":[18.195404953601873,15.732899629015186,17.058014073566035,17.13534161479371,16.923612429582786],"throughput":[2484210.648132995,463109.1090824364,239383.8947567329,154510.11850833817,116244.30178340714],"times":[40.25423531420529,1079.6591779217124,4177.390467375517,9708.102061413229,17205.144418403506],"x":[100,500,1000,1500,2000]}},"id":"27a3454e-f2f3-44eb-bdd0-abc4df65ee94","type":"ColumnDataSource"},{"attributes":{"line_color":{"value":"red"},"line_dash":[2,4],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"0fd60916-cd1f-4533-84c9-d224a2ba04fd","type":"Line"},{"attributes":{"children":[{"id":"e3d7bb8a-890d-44d3-8fe2-598e3dfb4034","type":"Div"}],"width":800},"id":"9516662a-0a8f-451d-94e5-50110785b522","type":"WidgetBox"},{"attributes":{"line_color":{"value":"red"},"line_dash":[2,4],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"d98f96a6-5f7a-4277-8814-3d1f9b8201ea","type":"Line"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"86e9837b-e506-465a-b65a-5cd0fe581845","type":"Circle"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_dash":[2,4],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"983d0b86-6846-4d14-976a-e70f2f32f2a0","type":"Line"},{"attributes":{"children":[{"id":"40b4b680-0baa-465a-ba95-fefdfb8561ec","type":"Div"}],"width":800},"id":"042f3f42-0cd3-43d1-af50-6684df980ed6","type":"WidgetBox"},{"attributes":{"format":"%1.0e"},"id":"8c315499-799e-4cc0-9117-46795fcb6ff0","type":"PrintfTickFormatter"},{"attributes":{"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"}},"id":"385e718d-08b0-4704-ba15-262def5f09f3","type":"ResetTool"},{"attributes":{"data_source":{"id":"27a3454e-f2f3-44eb-bdd0-abc4df65ee94","type":"ColumnDataSource"},"glyph":{"id":"4cdcaf64-6576-4583-816b-7592afdf2b08","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"73e14bae-1c4e-455e-9dd8-2ff5661473f7","type":"Circle"},"selection_glyph":null},"id":"c92d0b62-5e5a-4836-8237-3620e9a7e2bc","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"39875de3-0b2c-40c4-bc48-54b3ac73af2e","type":"Circle"},{"attributes":{"data_source":{"id":"495d8798-d77f-48b5-85c1-ac04244a8f26","type":"ColumnDataSource"},"glyph":{"id":"39875de3-0b2c-40c4-bc48-54b3ac73af2e","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"17a603e4-1f90-4b14-8349-9ba196b3b5e2","type":"Circle"},"selection_glyph":null},"id":"5daff09f-5fdf-4b8d-9bd9-19478f414bc5","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"73e14bae-1c4e-455e-9dd8-2ff5661473f7","type":"Circle"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_scalar_prange","numba_scalar_prange","numba_scalar_prange","numba_scalar_prange","numba_scalar_prange"],"speedup":[21.179707563258166,48.66224267562102,61.047726372368125,62.37828144063287,62.895099635353375],"throughput":[2891656.1729269717,1432407.7813284078,856714.1779831891,562467.6691252931,432011.6034995797],"times":[34.58225806243718,349.06261088326573,1167.250438593328,2666.819947771728,4629.505281336606],"x":[100,500,1000,1500,2000]}},"id":"fb90d6b9-e605-4b8d-9d6d-dade6344821a","type":"ColumnDataSource"},{"attributes":{"format":"%1.0e"},"id":"c063243c-515d-487b-b0b2-18268b9a5f23","type":"PrintfTickFormatter"},{"attributes":{"line_color":{"value":"orange"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"7ef2beff-18b5-462f-9b79-12d08aae33e7","type":"Line"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"4cdcaf64-6576-4583-816b-7592afdf2b08","type":"Circle"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_array","numba_array","numba_array","numba_array","numba_array"],"speedup":[1.4775236664863804,1.3745001493834268,1.338939501237651,1.3912754540652825,1.3442838913199326],"throughput":[201725.6573576495,40459.39112461494,18790.027447954868,12545.191109570811,9233.568955527038],"times":[495.72276184335345,12358.070304617286,53219.72002275288,119567.7281357348,216600.97083076835],"x":[100,500,1000,1500,2000]}},"id":"18f3a70b-1e9c-4aa2-a2af-b9a64f2d1507","type":"ColumnDataSource"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"3cbda957-1638-485f-bb3b-19eecc5abbac","type":"Line"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_scalar_prange","numba_scalar_prange","numba_scalar_prange","numba_scalar_prange","numba_scalar_prange"],"speedup":[21.179707563258166,48.66224267562102,61.047726372368125,62.37828144063287,62.895099635353375],"throughput":[2891656.1729269717,1432407.7813284078,856714.1779831891,562467.6691252931,432011.6034995797],"times":[34.58225806243718,349.06261088326573,1167.250438593328,2666.819947771728,4629.505281336606],"x":[100,500,1000,1500,2000]}},"id":"d89c5f24-66be-4b5d-a423-6159e4d73cb7","type":"ColumnDataSource"},{"attributes":{},"id":"98e49726-2fc6-40ab-9568-7e71d82288cf","type":"ToolEvents"},{"attributes":{"overlay":{"id":"cbf87e9b-b0e4-4bdc-88a0-9f2110e99cd1","type":"BoxAnnotation"},"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"}},"id":"a583a280-88ef-4d45-84e8-c5262afb1255","type":"BoxZoomTool"},{"attributes":{"plot":null,"text":"Lennard Jones: float64"},"id":"a7fa465e-5d7c-4964-bedb-c563d7a814bd","type":"Title"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numpy","numpy","numpy","numpy","numpy"],"speedup":[1.0,1.0,1.0,1.0,1.0],"throughput":[136529.56086812634,29435.712424450594,14033.51490533088,9017.043370465555,6868.7641168270875],"times":[732.4421126395464,16986.16947978735,71257.98538327217,166351.6452535987,291173.1959320605],"x":[100,500,1000,1500,2000]}},"id":"0b0edae5-9031-406f-91be-20e267f316c8","type":"ColumnDataSource"},{"attributes":{"data_source":{"id":"fb90d6b9-e605-4b8d-9d6d-dade6344821a","type":"ColumnDataSource"},"glyph":{"id":"7ef2beff-18b5-462f-9b79-12d08aae33e7","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"3cbda957-1638-485f-bb3b-19eecc5abbac","type":"Line"},"selection_glyph":null},"id":"60db4985-4b3b-4013-8e56-45b868d51409","type":"GlyphRenderer"},{"attributes":{"callback":null,"formatters":{"speedup":"printf","throughput":"printf","times":"printf","x":"printf"},"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},"tooltips":[["implementation","@name"],["x","@x{%1.0e}"],["time per call","@times{%1.1e} usec"],["speedup","@{speedup}{%1.1f}x"],["throughput","@{throughput}{%1.1e}"]]},"id":"9392cea7-76ca-497d-b3a2-74ae58ff9787","type":"HoverTool"},{"attributes":{"data_source":{"id":"fb90d6b9-e605-4b8d-9d6d-dade6344821a","type":"ColumnDataSource"},"glyph":{"id":"83e607ce-f663-4755-9e4b-3d81e173e10a","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"81162891-04f5-4bbf-9852-46e0a2d01660","type":"Circle"},"selection_glyph":null},"id":"32cb3b26-1424-4bfb-93c5-8c03ca9c704d","type":"GlyphRenderer"},{"attributes":{"items":[{"id":"41d85436-ce06-4dff-8d9a-de07b477e0df","type":"LegendItem"},{"id":"9ae0f28f-2a49-4876-8fe4-b3d462334aa8","type":"LegendItem"},{"id":"37b456bc-f15e-42fc-a235-4fd4541abffb","type":"LegendItem"},{"id":"650e612b-cff3-4389-965a-b24e39abd57a","type":"LegendItem"}],"location":[0,-30],"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"}},"id":"0325da1e-8213-47d1-ae37-5910231c33ee","type":"Legend"},{"attributes":{"text":"<p>Numba function operating on scalar mostly. This version has the algorithm rewritten to operate on a scalar at a time in manually written loops.</p>\n","width":800},"id":"a6a1deb6-c2aa-4dd8-a7f5-5fe3ed2bd34e","type":"Div"},{"attributes":{"dimension":1,"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},"ticker":{"id":"cace04e3-6c99-4beb-a9b8-2a985e05a5f3","type":"BasicTicker"}},"id":"b23f880d-4bcb-49b6-94b9-78ff4187efb8","type":"Grid"},{"attributes":{"label":{"value":"numpy"},"renderers":[{"id":"b801a6da-e238-482c-b74f-2beb2a78f193","type":"GlyphRenderer"},{"id":"816ad1ef-4fb1-41d2-ba56-81c50c0cb677","type":"GlyphRenderer"}]},"id":"41d85436-ce06-4dff-8d9a-de07b477e0df","type":"LegendItem"},{"attributes":{},"id":"cace04e3-6c99-4beb-a9b8-2a985e05a5f3","type":"BasicTicker"},{"attributes":{"label":{"value":"numba_array"},"renderers":[{"id":"8bbd0f7e-42c0-4d99-b3a4-15a1004dbdb9","type":"GlyphRenderer"},{"id":"e9f82112-0f72-4a59-9dc8-2551ace42e37","type":"GlyphRenderer"}]},"id":"9ae0f28f-2a49-4876-8fe4-b3d462334aa8","type":"LegendItem"},{"attributes":{"children":[{"id":"9516662a-0a8f-451d-94e5-50110785b522","type":"WidgetBox"}]},"id":"de9cbf9d-b6e0-40e8-857f-d7b5cce789da","type":"Row"},{"attributes":{"fill_color":{"value":"orange"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"83e607ce-f663-4755-9e4b-3d81e173e10a","type":"Circle"},{"attributes":{"label":{"value":"numba_scalar"},"renderers":[{"id":"b9fb92bf-d8e2-4fae-b873-5227e459c3e4","type":"GlyphRenderer"},{"id":"c92d0b62-5e5a-4836-8237-3620e9a7e2bc","type":"GlyphRenderer"}]},"id":"37b456bc-f15e-42fc-a235-4fd4541abffb","type":"LegendItem"},{"attributes":{"text":"<h1>Example: Lennard Jones</h1>\n            <p><b>Description</b>: <p>Compute the Lennard Jones Pontential for a random cluster of atoms\nin 3D space of a fixed radius.  This computes sum of all energy potentials\nof every pair of atoms in the cluster.</p>\n</p>","width":800},"id":"e3d7bb8a-890d-44d3-8fe2-598e3dfb4034","type":"Div"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"a026f92e-616e-4e7f-b041-a4dbaac9f8c7","type":"BoxZoomTool"},{"id":"bfbad562-a608-4e49-a7c9-037c0741b8cc","type":"ResetTool"},{"id":"2f061660-0c68-4590-a5b0-23e7964b622f","type":"HoverTool"}]},"id":"b38201b5-1d8e-48ee-ab55-66fcd78a5a6b","type":"Toolbar"},{"attributes":{},"id":"3f615930-c515-43d2-b6d1-2f1c77870cff","type":"LinearScale"},{"attributes":{"text":"<p>Numpy function</p>\n","width":800},"id":"8bf10ba5-d6df-4a46-873d-dacf4d9af5f5","type":"Div"},{"attributes":{"format":"%1.0e"},"id":"1f3b3183-cf50-4d96-a7ba-f3b8d7db5111","type":"PrintfTickFormatter"},{"attributes":{"text":"<p>This enables the <em>prange</em> feature on <em>numba_scalar</em>.</p>\n","width":800},"id":"ba847d1e-4f2c-4093-8b76-5367e9d8617d","type":"Div"},{"attributes":{"format":"%1.1f"},"id":"36c8908a-aa80-43f1-8bb0-2b2eac5d6397","type":"PrintfTickFormatter"},{"attributes":{"label":{"value":"numba_scalar_prange"},"renderers":[{"id":"e1b8d8bd-c163-439f-a195-1343d30b0445","type":"GlyphRenderer"},{"id":"c3098aaf-f219-413a-ba1e-05e56c3408c5","type":"GlyphRenderer"}]},"id":"650e612b-cff3-4389-965a-b24e39abd57a","type":"LegendItem"},{"attributes":{"callback":null},"id":"6ea16876-13b7-4944-9ae8-e9ab88a53074","type":"DataRange1d"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"81162891-04f5-4bbf-9852-46e0a2d01660","type":"Circle"},{"attributes":{"below":[{"id":"d39dbae6-9dd5-488f-873d-7f487c21187d","type":"LinearAxis"}],"left":[{"id":"ec5bfd9a-9267-48e1-8557-aa7eac02c806","type":"LinearAxis"}],"plot_height":250,"plot_width":800,"renderers":[{"id":"d39dbae6-9dd5-488f-873d-7f487c21187d","type":"LinearAxis"},{"id":"f5892577-1a51-478b-92d2-cb3f088a528b","type":"Grid"},{"id":"ec5bfd9a-9267-48e1-8557-aa7eac02c806","type":"LinearAxis"},{"id":"b23f880d-4bcb-49b6-94b9-78ff4187efb8","type":"Grid"},{"id":"cbf87e9b-b0e4-4bdc-88a0-9f2110e99cd1","type":"BoxAnnotation"},{"id":"b801a6da-e238-482c-b74f-2beb2a78f193","type":"GlyphRenderer"},{"id":"816ad1ef-4fb1-41d2-ba56-81c50c0cb677","type":"GlyphRenderer"},{"id":"8bbd0f7e-42c0-4d99-b3a4-15a1004dbdb9","type":"GlyphRenderer"},{"id":"e9f82112-0f72-4a59-9dc8-2551ace42e37","type":"GlyphRenderer"},{"id":"b9fb92bf-d8e2-4fae-b873-5227e459c3e4","type":"GlyphRenderer"},{"id":"c92d0b62-5e5a-4836-8237-3620e9a7e2bc","type":"GlyphRenderer"},{"id":"e1b8d8bd-c163-439f-a195-1343d30b0445","type":"GlyphRenderer"},{"id":"c3098aaf-f219-413a-ba1e-05e56c3408c5","type":"GlyphRenderer"},{"id":"0325da1e-8213-47d1-ae37-5910231c33ee","type":"Legend"}],"right":[{"id":"0325da1e-8213-47d1-ae37-5910231c33ee","type":"Legend"}],"title":{"id":"1c45bc02-f411-4e1a-8cec-4d7502b55330","type":"Title"},"tool_events":{"id":"7949b3f5-67be-4e85-9cfe-7173c2e1725e","type":"ToolEvents"},"toolbar":{"id":"fee93eb3-3dc4-4359-8f94-f358b9369a15","type":"Toolbar"},"toolbar_location":"above","x_range":{"id":"a7f15209-2488-4c79-bd4c-59a2636d2ed4","type":"DataRange1d"},"x_scale":{"id":"9d941052-ed3e-43a6-acd0-8f4ece2228b3","type":"LinearScale"},"y_range":{"id":"26fc10b8-ca69-4a8e-80fc-de67ee4af3e1","type":"DataRange1d"},"y_scale":{"id":"6d150a0d-5a7f-4c3b-a8ae-72b2b0ab1580","type":"LinearScale"}},"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"a658d976-085e-49cb-8f64-c06f94541ee5","type":"BoxAnnotation"},{"attributes":{"text":"<div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"kn\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">numba</span>\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">lj_numba_array</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">):</span>\n    <span class=\"n\">sr6</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">1.</span><span class=\"o\">/</span><span class=\"n\">r</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">6</span>\n    <span class=\"n\">pot</span> <span class=\"o\">=</span> <span class=\"mf\">4.</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">sr6</span><span class=\"o\">*</span><span class=\"n\">sr6</span> <span class=\"o\">-</span> <span class=\"n\">sr6</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">pot</span>\n\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">distances_numba_array</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">):</span>\n    <span class=\"c1\"># Original: diff = cluster[:, np.newaxis, :] - cluster[np.newaxis, :, :]</span>\n    <span class=\"c1\"># Since np.newaxis is not supported, we use reshape to do this</span>\n    <span class=\"n\">diff</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span> <span class=\"o\">-</span>\n            <span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">reshape</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">cluster</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]))</span>\n    <span class=\"n\">mat</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">diff</span> <span class=\"o\">*</span> <span class=\"n\">diff</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Original: mat = mat.sum(-1)</span>\n    <span class=\"c1\"># Since axis argument is not supported, we write the loop out</span>\n    <span class=\"n\">out</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">empty</span><span class=\"p\">(</span><span class=\"n\">mat</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[:</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">mat</span><span class=\"o\">.</span><span class=\"n\">dtype</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ndindex</span><span class=\"p\">(</span><span class=\"n\">out</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">):</span>\n        <span class=\"n\">out</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">mat</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">out</span><span class=\"p\">)</span>\n\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">potential_numba_array</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">):</span>\n    <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">distances_numba_array</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">)</span>\n    <span class=\"c1\"># Original: dtri = np.triu(d)</span>\n    <span class=\"c1\"># np.triu is not supported; so write my own loop to clear the</span>\n    <span class=\"c1\"># lower triangle</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]):</span>\n        <span class=\"k\">for</span> <span class=\"n\">j</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]):</span>\n            <span class=\"k\">if</span> <span class=\"n\">i</span> <span class=\"o\">&gt;</span> <span class=\"n\">j</span><span class=\"p\">:</span>\n                <span class=\"n\">d</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">j</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"mi\">0</span>\n    <span class=\"c1\"># Original: lj_numba_array(d[d &gt; 1e-6]).sum()</span>\n    <span class=\"c1\"># d[d &gt; 1e-6] is not supported due to the indexing with boolean</span>\n    <span class=\"c1\"># array.  Replace with custom loop.</span>\n    <span class=\"n\">energy</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>\n    <span class=\"k\">for</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">d</span><span class=\"o\">.</span><span class=\"n\">flat</span><span class=\"p\">:</span>\n        <span class=\"k\">if</span> <span class=\"n\">v</span> <span class=\"o\">&gt;</span> <span class=\"mf\">1e-6</span><span class=\"p\">:</span>\n            <span class=\"n\">energy</span> <span class=\"o\">+=</span> <span class=\"n\">lj_numba_array</span><span class=\"p\">(</span><span class=\"n\">v</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">energy</span>\n</pre></div>\n","width":800},"id":"b17d3d77-a782-495e-a41c-11183ebaaf40","type":"Div"},{"attributes":{"children":[{"id":"5612f39d-360a-4d33-8f26-f46741c2e4e4","type":"Div"}],"width":800},"id":"a41a0c78-c478-4597-9f60-e3ade2c2d08b","type":"WidgetBox"},{"attributes":{"callback":null},"id":"f8d39fff-cb34-4b45-8db4-593daa8d92cf","type":"DataRange1d"},{"attributes":{"axis_label":"Execution time (usec)","formatter":{"id":"d47d5458-1e3b-49a9-abdd-9f3344c19fc8","type":"PrintfTickFormatter"},"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},"ticker":{"id":"f2a6b082-cebf-44ac-96e4-f696e25192ad","type":"BasicTicker"}},"id":"f749b9cb-5a51-4c3b-9f26-9074bb6b677b","type":"LinearAxis"},{"attributes":{"child":{"id":"978f016b-ff9e-4002-9f34-ea0ef08c16af","type":"Column"},"title":"numpy"},"id":"bece852f-ece3-4aee-b253-4de012e0cda2","type":"Panel"},{"attributes":{"label":{"value":"numpy"},"renderers":[{"id":"7a6be762-26b9-4186-bebc-f8095f7b3405","type":"GlyphRenderer"},{"id":"52b4b1c4-ddd5-4adf-8210-fcef37d5fcbf","type":"GlyphRenderer"}]},"id":"2f3d4843-c2dd-42c6-83e3-f2a5eca8884d","type":"LegendItem"},{"attributes":{"items":[{"id":"2f3d4843-c2dd-42c6-83e3-f2a5eca8884d","type":"LegendItem"},{"id":"9feebbe1-a26e-4b04-ad21-9d563ddfabd5","type":"LegendItem"},{"id":"fa9bb0a4-b10d-4724-be2a-a026bb21fd29","type":"LegendItem"},{"id":"a1f2a920-2575-491c-a71c-38493e3ecd40","type":"LegendItem"}],"location":[0,-30],"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"}},"id":"fe1f812e-f501-4511-9acc-d767fc98c572","type":"Legend"},{"attributes":{"children":[{"id":"0d67ecf2-1228-4082-804d-24589dbd8841","type":"Div"}],"width":800},"id":"1f66d12c-a3fb-4854-9fbc-51099b9a2b79","type":"WidgetBox"},{"attributes":{},"id":"f2a6b082-cebf-44ac-96e4-f696e25192ad","type":"BasicTicker"},{"attributes":{"plot":null,"text":"Lennard Jones: float64"},"id":"1c45bc02-f411-4e1a-8cec-4d7502b55330","type":"Title"},{"attributes":{"children":[{"id":"e0df9fb1-2024-46b0-a8fe-88fca61c6bbd","type":"Div"}],"width":800},"id":"46d15473-70f5-41d8-a87d-1ca6c347efd2","type":"WidgetBox"},{"attributes":{},"id":"3427a866-28c3-4b01-aad2-07954d590a7d","type":"LinearScale"},{"attributes":{"children":[{"id":"2e547f26-a670-4c79-b3b1-7f45003a169b","type":"WidgetBox"},{"id":"1f66d12c-a3fb-4854-9fbc-51099b9a2b79","type":"WidgetBox"}]},"id":"62983f72-b0d2-4907-8510-1cc6c325a317","type":"Column"},{"attributes":{"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},"ticker":{"id":"e396d2f2-acc7-4d0f-b579-e2838ddb270d","type":"BasicTicker"}},"id":"1ecc92a4-a88c-4ee3-9f29-cb1628ca6666","type":"Grid"},{"attributes":{"label":{"value":"numba_scalar"},"renderers":[{"id":"b39e5f43-1a0c-4f90-83ae-02ad26e17483","type":"GlyphRenderer"},{"id":"5daff09f-5fdf-4b8d-9bd9-19478f414bc5","type":"GlyphRenderer"}]},"id":"fa9bb0a4-b10d-4724-be2a-a026bb21fd29","type":"LegendItem"},{"attributes":{"children":[{"id":"63db335f-6fac-4a77-9b9f-35a398e9a739","type":"Div"}]},"id":"5566f6f9-8161-4397-a76d-1de7c51afe1b","type":"WidgetBox"},{"attributes":{},"id":"7949b3f5-67be-4e85-9cfe-7173c2e1725e","type":"ToolEvents"},{"attributes":{"axis_label":"Number of input elements","formatter":{"id":"a5b4c557-441a-4800-92d1-1c500e5a652d","type":"PrintfTickFormatter"},"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},"ticker":{"id":"e396d2f2-acc7-4d0f-b579-e2838ddb270d","type":"BasicTicker"}},"id":"6f737196-785d-4472-b34d-1f998bc5fa1d","type":"LinearAxis"},{"attributes":{"label":{"value":"numba_array"},"renderers":[{"id":"06cd900a-5a85-4d83-9027-707b5d64c61c","type":"GlyphRenderer"},{"id":"27fbd5dd-4167-4ead-81bf-231eb9edefb5","type":"GlyphRenderer"}]},"id":"9feebbe1-a26e-4b04-ad21-9d563ddfabd5","type":"LegendItem"},{"attributes":{},"id":"e396d2f2-acc7-4d0f-b579-e2838ddb270d","type":"BasicTicker"},{"attributes":{"children":[{"id":"ba847d1e-4f2c-4093-8b76-5367e9d8617d","type":"Div"}],"width":800},"id":"d049bf05-07e3-449c-b6a5-50e085b71f3a","type":"WidgetBox"},{"attributes":{"label":{"value":"numba_scalar_prange"},"renderers":[{"id":"60db4985-4b3b-4013-8e56-45b868d51409","type":"GlyphRenderer"},{"id":"32cb3b26-1424-4bfb-93c5-8c03ca9c704d","type":"GlyphRenderer"}]},"id":"a1f2a920-2575-491c-a71c-38493e3ecd40","type":"LegendItem"},{"attributes":{"overlay":{"id":"a658d976-085e-49cb-8f64-c06f94541ee5","type":"BoxAnnotation"},"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"}},"id":"a026f92e-616e-4e7f-b041-a4dbaac9f8c7","type":"BoxZoomTool"},{"attributes":{"children":[{"id":"14b975e6-3e07-4cb8-a816-166d11b08732","type":"WidgetBox"},{"id":"46d15473-70f5-41d8-a87d-1ca6c347efd2","type":"WidgetBox"}]},"id":"978f016b-ff9e-4002-9f34-ea0ef08c16af","type":"Column"},{"attributes":{},"id":"9d941052-ed3e-43a6-acd0-8f4ece2228b3","type":"LinearScale"},{"attributes":{"children":[{"id":"8bf10ba5-d6df-4a46-873d-dacf4d9af5f5","type":"Div"}],"width":800},"id":"14b975e6-3e07-4cb8-a816-166d11b08732","type":"WidgetBox"},{"attributes":{"dimension":1,"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"},"ticker":{"id":"f2a6b082-cebf-44ac-96e4-f696e25192ad","type":"BasicTicker"}},"id":"0128d47e-96c1-4927-83b1-17ddde045a7b","type":"Grid"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"4c3d3883-e458-497a-b808-bfd6b2ac8293","type":"Circle"},{"attributes":{"child":{"id":"62983f72-b0d2-4907-8510-1cc6c325a317","type":"Column"},"title":"numba_scalar"},"id":"3e2f0f34-338d-44ee-bc77-727f2403de2b","type":"Panel"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"a583a280-88ef-4d45-84e8-c5262afb1255","type":"BoxZoomTool"},{"id":"385e718d-08b0-4704-ba15-262def5f09f3","type":"ResetTool"},{"id":"9392cea7-76ca-497d-b3a2-74ae58ff9787","type":"HoverTool"}]},"id":"fee93eb3-3dc4-4359-8f94-f358b9369a15","type":"Toolbar"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numpy","numpy","numpy","numpy","numpy"],"speedup":[1.0,1.0,1.0,1.0,1.0],"throughput":[136529.56086812634,29435.712424450594,14033.51490533088,9017.043370465555,6868.7641168270875],"times":[732.4421126395464,16986.16947978735,71257.98538327217,166351.6452535987,291173.1959320605],"x":[100,500,1000,1500,2000]}},"id":"fa9c073a-e96a-42de-8d89-576d72136be5","type":"ColumnDataSource"},{"attributes":{"callback":null},"id":"a7f15209-2488-4c79-bd4c-59a2636d2ed4","type":"DataRange1d"},{"attributes":{"text":"<div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">numba</span>\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">lj_numba_scalar</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">):</span>\n    <span class=\"n\">sr6</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">1.</span><span class=\"o\">/</span><span class=\"n\">r</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">6</span>\n    <span class=\"n\">pot</span> <span class=\"o\">=</span> <span class=\"mf\">4.</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">sr6</span><span class=\"o\">*</span><span class=\"n\">sr6</span> <span class=\"o\">-</span> <span class=\"n\">sr6</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">pot</span>\n\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">distance_numba_scalar</span><span class=\"p\">(</span><span class=\"n\">atom1</span><span class=\"p\">,</span> <span class=\"n\">atom2</span><span class=\"p\">):</span>\n    <span class=\"n\">dx</span> <span class=\"o\">=</span> <span class=\"n\">atom2</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">atom1</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"n\">dy</span> <span class=\"o\">=</span> <span class=\"n\">atom2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">atom1</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n    <span class=\"n\">dz</span> <span class=\"o\">=</span> <span class=\"n\">atom2</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">atom1</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n\n    <span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">dx</span> <span class=\"o\">*</span> <span class=\"n\">dx</span> <span class=\"o\">+</span> <span class=\"n\">dy</span> <span class=\"o\">*</span> <span class=\"n\">dy</span> <span class=\"o\">+</span> <span class=\"n\">dz</span> <span class=\"o\">*</span> <span class=\"n\">dz</span><span class=\"p\">)</span> <span class=\"o\">**</span> <span class=\"mf\">0.5</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">r</span>\n\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">potential_numba_scalar</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">):</span>\n    <span class=\"n\">energy</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">)</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">j</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">)):</span>\n            <span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">distance_numba_scalar</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">cluster</span><span class=\"p\">[</span><span class=\"n\">j</span><span class=\"p\">])</span>\n            <span class=\"n\">e</span> <span class=\"o\">=</span> <span class=\"n\">lj_numba_scalar</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n            <span class=\"n\">energy</span> <span class=\"o\">+=</span> <span class=\"n\">e</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">energy</span>\n</pre></div>\n","width":800},"id":"0d67ecf2-1228-4082-804d-24589dbd8841","type":"Div"},{"attributes":{"plot":{"id":"240988a7-f3e3-45a4-9805-62e4243ce3e6","subtype":"Figure","type":"Plot"}},"id":"bfbad562-a608-4e49-a7c9-037c0741b8cc","type":"ResetTool"},{"attributes":{"children":[{"id":"801731a8-a66b-4352-9d09-5c0dfbd555fd","type":"Div"}],"width":800},"id":"0826a8f1-080a-43d8-ad76-d490c039f346","type":"WidgetBox"},{"attributes":{},"id":"6d150a0d-5a7f-4c3b-a8ae-72b2b0ab1580","type":"LinearScale"},{"attributes":{"data_source":{"id":"fa9c073a-e96a-42de-8d89-576d72136be5","type":"ColumnDataSource"},"glyph":{"id":"855904dc-d225-45fa-8ecd-1c66cf2e0c39","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4d8fbdb9-53b3-4d52-a29e-3fb0e8bfc4e7","type":"Line"},"selection_glyph":null},"id":"8befec76-9acd-4112-b345-8ff60a383c62","type":"GlyphRenderer"},{"attributes":{"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},"ticker":{"id":"2bdb59f9-c314-429c-be34-62f9a8a58a80","type":"BasicTicker"}},"id":"f5892577-1a51-478b-92d2-cb3f088a528b","type":"Grid"},{"attributes":{"text":"<div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">numba</span>\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">lj_numba_scalar_prange</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">):</span>\n    <span class=\"n\">sr6</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">1.</span><span class=\"o\">/</span><span class=\"n\">r</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">6</span>\n    <span class=\"n\">pot</span> <span class=\"o\">=</span> <span class=\"mf\">4.</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">sr6</span><span class=\"o\">*</span><span class=\"n\">sr6</span> <span class=\"o\">-</span> <span class=\"n\">sr6</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">pot</span>\n\n\n<span class=\"nd\">@numba.njit</span>\n<span class=\"k\">def</span> <span class=\"nf\">distance_numba_scalar_prange</span><span class=\"p\">(</span><span class=\"n\">atom1</span><span class=\"p\">,</span> <span class=\"n\">atom2</span><span class=\"p\">):</span>\n    <span class=\"n\">dx</span> <span class=\"o\">=</span> <span class=\"n\">atom2</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">atom1</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>\n    <span class=\"n\">dy</span> <span class=\"o\">=</span> <span class=\"n\">atom2</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">atom1</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n    <span class=\"n\">dz</span> <span class=\"o\">=</span> <span class=\"n\">atom2</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"n\">atom1</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n\n    <span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">dx</span> <span class=\"o\">*</span> <span class=\"n\">dx</span> <span class=\"o\">+</span> <span class=\"n\">dy</span> <span class=\"o\">*</span> <span class=\"n\">dy</span> <span class=\"o\">+</span> <span class=\"n\">dz</span> <span class=\"o\">*</span> <span class=\"n\">dz</span><span class=\"p\">)</span> <span class=\"o\">**</span> <span class=\"mf\">0.5</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">r</span>\n\n\n<span class=\"nd\">@numba.njit</span><span class=\"p\">(</span><span class=\"n\">parallel</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n<span class=\"k\">def</span> <span class=\"nf\">potential_numba_scalar_prange</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">):</span>\n    <span class=\"n\">energy</span> <span class=\"o\">=</span> <span class=\"mf\">0.0</span>\n    <span class=\"c1\"># numba.prange requires parallel=True flag to compile.</span>\n    <span class=\"c1\"># It causes the loop to run in parallel in multiple threads.</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"n\">numba</span><span class=\"o\">.</span><span class=\"n\">prange</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">)</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">):</span>\n        <span class=\"k\">for</span> <span class=\"n\">j</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">i</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">)):</span>\n            <span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">distance_numba_scalar_prange</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">],</span> <span class=\"n\">cluster</span><span class=\"p\">[</span><span class=\"n\">j</span><span class=\"p\">])</span>\n            <span class=\"n\">e</span> <span class=\"o\">=</span> <span class=\"n\">lj_numba_scalar_prange</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n            <span class=\"n\">energy</span> <span class=\"o\">+=</span> <span class=\"n\">e</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">energy</span>\n</pre></div>\n","width":800},"id":"5612f39d-360a-4d33-8f26-f46741c2e4e4","type":"Div"},{"attributes":{"line_color":{"value":"blue"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"855904dc-d225-45fa-8ecd-1c66cf2e0c39","type":"Line"},{"attributes":{"children":[{"id":"cfb02ca5-a8e4-4cb4-8527-922f341d35b6","type":"WidgetBox"}]},"id":"100df9fc-f258-4e96-b5e1-5fa4f2f5851f","type":"Row"},{"attributes":{"axis_label":"Number of input elements","formatter":{"id":"c063243c-515d-487b-b0b2-18268b9a5f23","type":"PrintfTickFormatter"},"plot":{"id":"e22d8dca-0ef4-4553-ae3a-958f939f2b3f","subtype":"Figure","type":"Plot"},"ticker":{"id":"2bdb59f9-c314-429c-be34-62f9a8a58a80","type":"BasicTicker"}},"id":"d39dbae6-9dd5-488f-873d-7f487c21187d","type":"LinearAxis"},{"attributes":{"callback":null},"id":"26fc10b8-ca69-4a8e-80fc-de67ee4af3e1","type":"DataRange1d"},{"attributes":{"text":"<p>Numba function operating on mostly array. This is not a fast implementation but is the closest to the <em>numpy</em> version.</p>\n","width":800},"id":"801731a8-a66b-4352-9d09-5c0dfbd555fd","type":"Div"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"4d8fbdb9-53b3-4d52-a29e-3fb0e8bfc4e7","type":"Line"},{"attributes":{"text":"<div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"kn\">as</span> <span class=\"nn\">np</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">lj_numpy</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">):</span>\n    <span class=\"n\">sr6</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"mf\">1.</span><span class=\"o\">/</span><span class=\"n\">r</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">6</span>\n    <span class=\"n\">pot</span> <span class=\"o\">=</span> <span class=\"mf\">4.</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"n\">sr6</span><span class=\"o\">*</span><span class=\"n\">sr6</span> <span class=\"o\">-</span> <span class=\"n\">sr6</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">pot</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">distances_numpy</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">):</span>\n    <span class=\"n\">diff</span> <span class=\"o\">=</span> <span class=\"n\">cluster</span><span class=\"p\">[:,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">newaxis</span><span class=\"p\">,</span> <span class=\"p\">:]</span> <span class=\"o\">-</span> <span class=\"n\">cluster</span><span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">newaxis</span><span class=\"p\">,</span> <span class=\"p\">:,</span> <span class=\"p\">:]</span>\n    <span class=\"n\">mat</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">((</span><span class=\"n\">diff</span> <span class=\"o\">*</span> <span class=\"n\">diff</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">))</span>\n    <span class=\"k\">return</span> <span class=\"n\">mat</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">potential_numpy</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">):</span>\n    <span class=\"n\">d</span> <span class=\"o\">=</span> <span class=\"n\">distances_numpy</span><span class=\"p\">(</span><span class=\"n\">cluster</span><span class=\"p\">)</span>\n    <span class=\"n\">dtri</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">triu</span><span class=\"p\">(</span><span class=\"n\">d</span><span class=\"p\">)</span>\n    <span class=\"n\">energy</span> <span class=\"o\">=</span> <span class=\"n\">lj_numpy</span><span class=\"p\">(</span><span class=\"n\">dtri</span><span class=\"p\">[</span><span class=\"n\">dtri</span> <span class=\"o\">&gt;</span> <span class=\"mf\">1e-6</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">sum</span><span class=\"p\">()</span>\n    <span class=\"k\">return</span> <span class=\"n\">energy</span>\n</pre></div>\n","width":800},"id":"e0df9fb1-2024-46b0-a8fe-88fca61c6bbd","type":"Div"},{"attributes":{"line_color":{"value":"green"},"line_dash":[6],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"176ebe80-084c-440c-8c40-d68a24e432d4","type":"Line"},{"attributes":{"children":[{"id":"0826a8f1-080a-43d8-ad76-d490c039f346","type":"WidgetBox"},{"id":"a97558c9-e926-47e5-9c20-6045c41cb531","type":"WidgetBox"}]},"id":"480a67fa-a0f7-4622-8e3f-89d10899cc70","type":"Column"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"plot":null,"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"cbf87e9b-b0e4-4bdc-88a0-9f2110e99cd1","type":"BoxAnnotation"},{"attributes":{"data_source":{"id":"18f3a70b-1e9c-4aa2-a2af-b9a64f2d1507","type":"ColumnDataSource"},"glyph":{"id":"176ebe80-084c-440c-8c40-d68a24e432d4","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"45ce61d4-e855-4106-b781-46bc520d8b1a","type":"Line"},"selection_glyph":null},"id":"616553ec-9a7e-45a9-b260-7e57db540484","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"b17d3d77-a782-495e-a41c-11183ebaaf40","type":"Div"}],"width":800},"id":"a97558c9-e926-47e5-9c20-6045c41cb531","type":"WidgetBox"},{"attributes":{},"id":"2bdb59f9-c314-429c-be34-62f9a8a58a80","type":"BasicTicker"},{"attributes":{"child":{"id":"89aa2db3-c8b1-4cfa-a835-b8eb7d8a4aca","type":"Column"},"title":"numba_scalar_prange"},"id":"bf7bd388-c0e1-4800-8821-6edb44788012","type":"Panel"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"4b50bc43-626c-40f7-9d30-ee86b7b6ff60","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"5f2208af-3a20-45af-b5c1-54409b12ed48","type":"Circle"},{"attributes":{"children":[{"id":"a6a1deb6-c2aa-4dd8-a7f5-5fe3ed2bd34e","type":"Div"}],"width":800},"id":"2e547f26-a670-4c79-b3b1-7f45003a169b","type":"WidgetBox"},{"attributes":{"data_source":{"id":"18f3a70b-1e9c-4aa2-a2af-b9a64f2d1507","type":"ColumnDataSource"},"glyph":{"id":"d26308ab-e70a-4068-8415-73f9d0eafe9a","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"b90c9c33-3642-4b72-a689-8f3cc1589bce","type":"Circle"},"selection_glyph":null},"id":"b4bc5c71-e9ba-46bc-98c0-dbd20c439132","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"green"},"line_dash":[6],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"715da51d-879b-4f83-bcb7-c0e03e646e7b","type":"Line"},{"attributes":{"children":[{"id":"d049bf05-07e3-449c-b6a5-50e085b71f3a","type":"WidgetBox"},{"id":"a41a0c78-c478-4597-9f60-e3ade2c2d08b","type":"WidgetBox"}]},"id":"89aa2db3-c8b1-4cfa-a835-b8eb7d8a4aca","type":"Column"},{"attributes":{"data_source":{"id":"d89c5f24-66be-4b5d-a423-6159e4d73cb7","type":"ColumnDataSource"},"glyph":{"id":"1e48da46-5c6b-4811-9f5a-509220b9ab94","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"382970e8-530b-4a39-a739-be70e1a997d1","type":"Line"},"selection_glyph":null},"id":"e1b8d8bd-c163-439f-a195-1343d30b0445","type":"GlyphRenderer"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"8e5a2fc1-d4aa-4460-acce-34955a8685a2","type":"Circle"},{"attributes":{"children":[{"id":"5566f6f9-8161-4397-a76d-1de7c51afe1b","type":"WidgetBox"}]},"id":"cc601dd8-a564-425c-b58c-8a869058829d","type":"Row"},{"attributes":{"data_source":{"id":"0b0edae5-9031-406f-91be-20e267f316c8","type":"ColumnDataSource"},"glyph":{"id":"4c3d3883-e458-497a-b808-bfd6b2ac8293","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"4b50bc43-626c-40f7-9d30-ee86b7b6ff60","type":"Circle"},"selection_glyph":null},"id":"816ad1ef-4fb1-41d2-ba56-81c50c0cb677","type":"GlyphRenderer"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_dash":[6],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"45ce61d4-e855-4106-b781-46bc520d8b1a","type":"Line"},{"attributes":{"data_source":{"id":"d89c5f24-66be-4b5d-a423-6159e4d73cb7","type":"ColumnDataSource"},"glyph":{"id":"86e9837b-e506-465a-b65a-5cd0fe581845","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1cc61fc8-7d0d-4577-ae05-1ae80843f040","type":"Circle"},"selection_glyph":null},"id":"c3098aaf-f219-413a-ba1e-05e56c3408c5","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"fa9c073a-e96a-42de-8d89-576d72136be5","type":"ColumnDataSource"},"glyph":{"id":"8e5a2fc1-d4aa-4460-acce-34955a8685a2","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"5f2208af-3a20-45af-b5c1-54409b12ed48","type":"Circle"},"selection_glyph":null},"id":"3bfeb77a-87b3-4057-b2f3-7e179d1ed8d9","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"3aad123f-b52b-4a56-b965-ceb04d6e7268","type":"Tabs"}],"width":800},"id":"cfb02ca5-a8e4-4cb4-8527-922f341d35b6","type":"WidgetBox"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_array","numba_array","numba_array","numba_array","numba_array"],"speedup":[1.4775236664863804,1.3745001493834268,1.338939501237651,1.3912754540652825,1.3442838913199326],"throughput":[201725.6573576495,40459.39112461494,18790.027447954868,12545.191109570811,9233.568955527038],"times":[495.72276184335345,12358.070304617286,53219.72002275288,119567.7281357348,216600.97083076835],"x":[100,500,1000,1500,2000]}},"id":"ab467d7c-2dea-4962-b38a-e3e622ea984f","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"b90c9c33-3642-4b72-a689-8f3cc1589bce","type":"Circle"},{"attributes":{},"id":"ed225058-bc2b-4fea-929e-4bbd70e40ada","type":"BasicTicker"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"8985336b-74ce-4d0f-ad4a-fb61d9500481","type":"Line"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numpy","numpy","numpy","numpy","numpy"],"speedup":[1.0,1.0,1.0,1.0,1.0],"throughput":[136529.56086812634,29435.712424450594,14033.51490533088,9017.043370465555,6868.7641168270875],"times":[732.4421126395464,16986.16947978735,71257.98538327217,166351.6452535987,291173.1959320605],"x":[100,500,1000,1500,2000]}},"id":"373859c8-cbd2-4f2e-b43b-d6f45b053f20","type":"ColumnDataSource"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_scalar","numba_scalar","numba_scalar","numba_scalar","numba_scalar"],"speedup":[18.195404953601873,15.732899629015186,17.058014073566035,17.13534161479371,16.923612429582786],"throughput":[2484210.648132995,463109.1090824364,239383.8947567329,154510.11850833817,116244.30178340714],"times":[40.25423531420529,1079.6591779217124,4177.390467375517,9708.102061413229,17205.144418403506],"x":[100,500,1000,1500,2000]}},"id":"5f61d43f-9ac2-4e01-9b49-61b14ecaae0b","type":"ColumnDataSource"},{"attributes":{"below":[{"id":"002ace58-b267-4cdf-b807-a02308823787","type":"LinearAxis"}],"left":[{"id":"85907fef-ec77-41c3-98c8-260f8ff19280","type":"LinearAxis"}],"plot_height":250,"plot_width":800,"renderers":[{"id":"002ace58-b267-4cdf-b807-a02308823787","type":"LinearAxis"},{"id":"e29b3109-b8b9-49a2-855a-f63f13bb7b54","type":"Grid"},{"id":"85907fef-ec77-41c3-98c8-260f8ff19280","type":"LinearAxis"},{"id":"e3c57596-efa0-4494-aa85-1e7fb89f2408","type":"Grid"},{"id":"4f04dbd9-18b8-4b3c-ac22-19afbd28b7a5","type":"BoxAnnotation"},{"id":"7a6be762-26b9-4186-bebc-f8095f7b3405","type":"GlyphRenderer"},{"id":"52b4b1c4-ddd5-4adf-8210-fcef37d5fcbf","type":"GlyphRenderer"},{"id":"06cd900a-5a85-4d83-9027-707b5d64c61c","type":"GlyphRenderer"},{"id":"27fbd5dd-4167-4ead-81bf-231eb9edefb5","type":"GlyphRenderer"},{"id":"b39e5f43-1a0c-4f90-83ae-02ad26e17483","type":"GlyphRenderer"},{"id":"5daff09f-5fdf-4b8d-9bd9-19478f414bc5","type":"GlyphRenderer"},{"id":"60db4985-4b3b-4013-8e56-45b868d51409","type":"GlyphRenderer"},{"id":"32cb3b26-1424-4bfb-93c5-8c03ca9c704d","type":"GlyphRenderer"},{"id":"fe1f812e-f501-4511-9acc-d767fc98c572","type":"Legend"}],"right":[{"id":"fe1f812e-f501-4511-9acc-d767fc98c572","type":"Legend"}],"title":{"id":"ebc9bac4-0f14-4514-b22c-1311e62b1f9f","type":"Title"},"tool_events":{"id":"c3dd4b3d-e688-4889-9adc-ad2a2ed2373e","type":"ToolEvents"},"toolbar":{"id":"41fdf3f8-4d58-48fc-824b-9db7e5c59804","type":"Toolbar"},"toolbar_location":"above","x_range":{"id":"f76a5a05-65da-4c18-9924-7c31d967b06f","type":"DataRange1d"},"x_scale":{"id":"cd6370cd-695d-4edc-89fb-390fb612da54","type":"LinearScale"},"y_range":{"id":"8cbc9ef6-f3f3-43e2-95a0-788d37accdc2","type":"DataRange1d"},"y_scale":{"id":"863669c2-2bff-4e9e-b28d-8ec2bc9a1874","type":"LinearScale"}},"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"d26308ab-e70a-4068-8415-73f9d0eafe9a","type":"Circle"},{"attributes":{"plot":null,"text":"Lennard Jones: float64"},"id":"ebc9bac4-0f14-4514-b22c-1311e62b1f9f","type":"Title"},{"attributes":{"data_source":{"id":"1cf635c4-f9e2-4996-ad23-1406655108c6","type":"ColumnDataSource"},"glyph":{"id":"1bb231eb-8a0e-480b-8673-65f2acbe6305","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"b6520f8f-e3fe-48a6-9693-9543cbd6a511","type":"Circle"},"selection_glyph":null},"id":"27fbd5dd-4167-4ead-81bf-231eb9edefb5","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"5f61d43f-9ac2-4e01-9b49-61b14ecaae0b","type":"ColumnDataSource"},"glyph":{"id":"f417c70e-4fa4-48f6-9846-21ed132208fd","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"d8055e6b-2f99-48a9-9a23-b05a20b4860e","type":"Line"},"selection_glyph":null},"id":"5af9ef99-92cf-49cd-8ec6-8a2c9983ea4a","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"de9cbf9d-b6e0-40e8-857f-d7b5cce789da","type":"Row"},{"id":"e6111487-5cb4-4e08-80ae-09ee4a338a12","type":"Row"},{"id":"100df9fc-f258-4e96-b5e1-5fa4f2f5851f","type":"Row"},{"id":"cc601dd8-a564-425c-b58c-8a869058829d","type":"Row"},{"id":"6ff63633-a064-4e07-a09c-6b838dca0c78","type":"Row"}]},"id":"6c49c7fe-a6ef-4862-a940-27d1844d5673","type":"Column"},{"attributes":{"data_source":{"id":"0b0edae5-9031-406f-91be-20e267f316c8","type":"ColumnDataSource"},"glyph":{"id":"8b638e50-79fd-49d2-a6d5-284c48cdda8c","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"17d3266f-d823-491b-8de4-7fe5586d170e","type":"Line"},"selection_glyph":null},"id":"b801a6da-e238-482c-b74f-2beb2a78f193","type":"GlyphRenderer"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_dash":[2,4],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"d8055e6b-2f99-48a9-9a23-b05a20b4860e","type":"Line"},{"attributes":{"text":"<h2>Benchmarks</h2>"},"id":"63db335f-6fac-4a77-9b9f-35a398e9a739","type":"Div"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"17d3266f-d823-491b-8de4-7fe5586d170e","type":"Line"},{"attributes":{},"id":"cd6370cd-695d-4edc-89fb-390fb612da54","type":"LinearScale"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_dash":[6],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"2728b520-8736-4506-a569-395c1077ade5","type":"Line"},{"attributes":{"callback":null},"id":"8cbc9ef6-f3f3-43e2-95a0-788d37accdc2","type":"DataRange1d"},{"attributes":{"data_source":{"id":"1cf635c4-f9e2-4996-ad23-1406655108c6","type":"ColumnDataSource"},"glyph":{"id":"dceacc60-43fb-4ac9-a8a1-0a6ce5d10436","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"2728b520-8736-4506-a569-395c1077ade5","type":"Line"},"selection_glyph":null},"id":"06cd900a-5a85-4d83-9027-707b5d64c61c","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"red"},"line_dash":[2,4],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"f417c70e-4fa4-48f6-9846-21ed132208fd","type":"Line"},{"attributes":{"axis_label":"Number of input elements","formatter":{"id":"1f3b3183-cf50-4d96-a7ba-f3b8d7db5111","type":"PrintfTickFormatter"},"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},"ticker":{"id":"ed225058-bc2b-4fea-929e-4bbd70e40ada","type":"BasicTicker"}},"id":"002ace58-b267-4cdf-b807-a02308823787","type":"LinearAxis"},{"attributes":{"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},"ticker":{"id":"ed225058-bc2b-4fea-929e-4bbd70e40ada","type":"BasicTicker"}},"id":"e29b3109-b8b9-49a2-855a-f63f13bb7b54","type":"Grid"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"1cc61fc8-7d0d-4577-ae05-1ae80843f040","type":"Circle"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"a0e00224-ae64-4c73-bfa5-59abaaca10e1","type":"Circle"},{"attributes":{},"id":"863669c2-2bff-4e9e-b28d-8ec2bc9a1874","type":"LinearScale"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_array","numba_array","numba_array","numba_array","numba_array"],"speedup":[1.4775236664863804,1.3745001493834268,1.338939501237651,1.3912754540652825,1.3442838913199326],"throughput":[201725.6573576495,40459.39112461494,18790.027447954868,12545.191109570811,9233.568955527038],"times":[495.72276184335345,12358.070304617286,53219.72002275288,119567.7281357348,216600.97083076835],"x":[100,500,1000,1500,2000]}},"id":"1cf635c4-f9e2-4996-ad23-1406655108c6","type":"ColumnDataSource"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"times"}},"id":"3c537098-f47f-4f05-a78a-22c97cea7608","type":"Circle"},{"attributes":{"axis_label":"Speedup over numpy","formatter":{"id":"36c8908a-aa80-43f1-8bb0-2b2eac5d6397","type":"PrintfTickFormatter"},"plot":{"id":"2198b233-d99b-4b69-a8ce-931bf8116ede","subtype":"Figure","type":"Plot"},"ticker":{"id":"43108ada-015c-4fe7-bd11-a34b09b0e961","type":"BasicTicker"}},"id":"85907fef-ec77-41c3-98c8-260f8ff19280","type":"LinearAxis"},{"attributes":{"data_source":{"id":"5f61d43f-9ac2-4e01-9b49-61b14ecaae0b","type":"ColumnDataSource"},"glyph":{"id":"3c537098-f47f-4f05-a78a-22c97cea7608","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"a0e00224-ae64-4c73-bfa5-59abaaca10e1","type":"Circle"},"selection_glyph":null},"id":"3b8e1056-26a9-4a91-b8f3-f1bf055db5e3","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"green"},"line_dash":[6],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"dceacc60-43fb-4ac9-a8a1-0a6ce5d10436","type":"Line"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_scroll":"auto","active_tap":"auto","tools":[{"id":"58b07b04-5cb9-4208-baed-1aad6ea8899c","type":"BoxZoomTool"},{"id":"45db313e-17e0-4cbb-a624-6d8b388b6f97","type":"ResetTool"},{"id":"f64bb403-3dd1-4847-833c-cd78141b3d0b","type":"HoverTool"}]},"id":"41fdf3f8-4d58-48fc-824b-9db7e5c59804","type":"Toolbar"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"speedup"}},"id":"7199d331-4c60-42fc-a508-78288697073e","type":"Circle"},{"attributes":{"line_color":{"value":"orange"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"times"}},"id":"a5dcfaf7-83b2-4e28-b946-fc4c0188937f","type":"Line"},{"attributes":{"data_source":{"id":"373859c8-cbd2-4f2e-b43b-d6f45b053f20","type":"ColumnDataSource"},"glyph":{"id":"f8b7f198-ee51-44bb-b2ba-1f88863545e2","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"7199d331-4c60-42fc-a508-78288697073e","type":"Circle"},"selection_glyph":null},"id":"52b4b1c4-ddd5-4adf-8210-fcef37d5fcbf","type":"GlyphRenderer"},{"attributes":{"callback":null},"id":"f76a5a05-65da-4c18-9924-7c31d967b06f","type":"DataRange1d"},{"attributes":{"callback":null,"column_names":["x","times","name","speedup","throughput"],"data":{"name":["numba_scalar_prange","numba_scalar_prange","numba_scalar_prange","numba_scalar_prange","numba_scalar_prange"],"speedup":[21.179707563258166,48.66224267562102,61.047726372368125,62.37828144063287,62.895099635353375],"throughput":[2891656.1729269717,1432407.7813284078,856714.1779831891,562467.6691252931,432011.6034995797],"times":[34.58225806243718,349.06261088326573,1167.250438593328,2666.819947771728,4629.505281336606],"x":[100,500,1000,1500,2000]}},"id":"33ca5a7e-f3c6-4851-9e5c-4624a117e402","type":"ColumnDataSource"},{"attributes":{},"id":"c3dd4b3d-e688-4889-9adc-ad2a2ed2373e","type":"ToolEvents"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_dash":[6],"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"f5f4d30a-7db4-4d1b-a796-4838c5d7f749","type":"Line"},{"attributes":{"data_source":{"id":"ab467d7c-2dea-4962-b38a-e3e622ea984f","type":"ColumnDataSource"},"glyph":{"id":"84f56cc7-e1c7-408e-ac4f-cb5f7d37dc08","type":"Circle"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"5627902a-e9d2-4cae-9225-bc14038766bc","type":"Circle"},"selection_glyph":null},"id":"e9f82112-0f72-4a59-9dc8-2551ace42e37","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"ab467d7c-2dea-4962-b38a-e3e622ea984f","type":"ColumnDataSource"},"glyph":{"id":"715da51d-879b-4f83-bcb7-c0e03e646e7b","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"f5f4d30a-7db4-4d1b-a796-4838c5d7f749","type":"Line"},"selection_glyph":null},"id":"8bbd0f7e-42c0-4d99-b3a4-15a1004dbdb9","type":"GlyphRenderer"},{"attributes":{"line_color":{"value":"orange"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"1e48da46-5c6b-4811-9f5a-509220b9ab94","type":"Line"},{"attributes":{"fill_color":{"value":"green"},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"84f56cc7-e1c7-408e-ac4f-cb5f7d37dc08","type":"Circle"},{"attributes":{"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"382970e8-530b-4a39-a739-be70e1a997d1","type":"Line"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"#1f77b4"},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"size":{"units":"screen","value":10},"x":{"field":"x"},"y":{"field":"throughput"}},"id":"5627902a-e9d2-4cae-9225-bc14038766bc","type":"Circle"}],"root_ids":["6c49c7fe-a6ef-4862-a940-27d1844d5673"]},"title":"Bokeh Application","version":"0.12.6"}};
              var render_items = [{"docid":"7f4258a8-d60f-4bb6-b796-ca81afdbcf81","elementid":"7bd5506e-801e-4bc8-a2f6-285f62a7fe79","modelid":"6c49c7fe-a6ef-4862-a940-27d1844d5673"}];
              
              Bokeh.embed.embed_items(docs_json, render_items);
            });
          };
          if (document.readyState != "loading") fn();
          else document.addEventListener("DOMContentLoaded", fn);
        })();
        
        </script>
        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    </body>
</html>