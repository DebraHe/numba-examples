{"name": "Zero Suppression", "description": "Map all samples of a waveform below a certain absolute magnitude to zero\n", "created": "2017-07-13T16:22:21.072802", "xlabel": "Number of elements", "baseline": "numpy", "implementations": [{"name": "numpy", "description": "Basic NumPy implementation", "source": "\nimport numpy as np\n\ndef numpy_zero_suppression(values, threshold):\n    result = np.zeros_like(values)\n    selector = np.abs(values) >= threshold\n    result[selector] = values[selector]\n    return result\n"}, {"name": "numba_single_thread_ufunc", "description": "Numba single threaded ufunc", "source": "\nimport numba\nimport numpy as np\n\n@numba.vectorize(nopython=True)\ndef numba_zero_suppression(values, threshold):\n    if np.abs(values) >= threshold:\n        return values\n    else:\n        return 0.0\n"}, {"name": "numba_gpu_ufunc", "description": "Numba GPU ufunc.  Note this will be slower than CPU!\nThere is not enough work for the GPU to do, so the fixed overhead dominates.\n", "source": "import numba\n\n@numba.vectorize(['(int16, int16)','(float32, float32)', '(float64, float64)'], target='cuda')\ndef numba_zero_suppression(values, threshold):\n    if abs(values) >= threshold:\n        return values\n    else:\n        return 0.0\n"}], "results": [{"numpy": {"x": [100, 1000, 10000, 50000], "times": [7.460028439527377e-06, 1.3167134679388255e-05, 7.188697659876198e-05, 0.0003243390399729833]}, "numba_single_thread_ufunc": {"x": [100, 1000, 10000, 50000], "times": [8.736445220420137e-07, 2.4740639596711842e-06, 1.588386553921737e-05, 7.638570809504017e-05]}, "numba_gpu_ufunc": {"x": [100, 1000, 10000, 50000], "times": [0.0007327578800031915, 0.0008341496819630265, 0.0009622986869653687, 0.0012463230029679834]}, "category": ["int16"]}, {"numpy": {"x": [100, 1000, 10000, 50000], "times": [7.75894594960846e-06, 1.1378463510191068e-05, 5.4900833999272434e-05, 0.0002430985691025853]}, "numba_single_thread_ufunc": {"x": [100, 1000, 10000, 50000], "times": [1.0633766769897192e-06, 2.276504379697144e-06, 1.3066389890154824e-05, 5.978156980127096e-05]}, "numba_gpu_ufunc": {"x": [100, 1000, 10000, 50000], "times": [0.0007339261289453134, 0.0007554264704231172, 0.0008543913980247452, 0.0012354873780859635]}, "category": ["float32"]}, {"numpy": {"x": [100, 1000, 10000, 50000], "times": [7.406710360664874e-06, 1.142499684006907e-05, 6.133379520615563e-05, 0.00027108067099470645]}, "numba_single_thread_ufunc": {"x": [100, 1000, 10000, 50000], "times": [1.0847618009429426e-06, 2.087992539978586e-06, 9.820399379823357e-06, 4.4749187293928116e-05]}, "numba_gpu_ufunc": {"x": [100, 1000, 10000, 50000], "times": [0.0006871525410097093, 0.0007608314019162208, 0.0008032776780892163, 0.0014397202439140528]}, "category": ["float64"]}]}